<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise 2</title>
</head>
<body>

    <script>
    /*
        Order Placed
            After 3s -> Chef received the order and started preparing.
            After 10s -> Pizza Sauce Added.
            After 5s -> First layer of cheese added.
            After 12s -> Toppings Added.
            After 5s -> Second layer of cheese added.
            After 15s -> Pizza Baked.
            After 8s -> Oregano Added and Packed.
            After 2s -> Package received at counter.
        The order is ready and handed over to the Zomato Delivery Guy.
    */
    const chefReceived = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Chef received the order and started preparing.');
                resolve();
            }, 3000)    
        })
    }

    const pizzaSauceAdded = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Pizza Sauce Added.');
                resolve();
            }, 10000)    
        })
    }
 
    const firstLayerOfCheeseAdded = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('First layer of cheese added.');
                resolve();
            }, 5000)    
        })
    }
    const toppingsAdded = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Toppings Added.');
                resolve();
            }, 12000)    
        })
    }
    const secondLayerOfCheeseAdded = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Second layer of cheese added.');
                resolve();
            }, 5000)    
        })
    }
    const pizzaBaked = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Pizza Baked.');
                resolve();
            }, 15000)    
        })
    }
    const oreganoAddedAndPacked = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Oregano Added and Packed.');
                resolve();
            }, 8000)    
        })
    }
    const packageReceivedAtCounter = () => {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                console.log('Package received at counter.');
                resolve();
            }, 2000)    
        })
    }
    const executeOrder = () => {
        console.log('Order Placed');
        chefReceived()
            .then(pizzaSauceAdded)
            .then(firstLayerOfCheeseAdded)
            .then(toppingsAdded)
            .then(secondLayerOfCheeseAdded)
            .then(pizzaBaked)
            .then(oreganoAddedAndPacked)
            .then(packageReceivedAtCounter)
            .then(()=>console.log(' The order is ready and handed over to the Zomato Delivery Guy.'))
            .catch((err) => console.log('Error Occured: ' + err))
        
    }
    
    </script>
    <button onclick="executeOrder()">Execute Order</button>
</body>
</html>